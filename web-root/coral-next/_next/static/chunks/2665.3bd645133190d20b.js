"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2665],{42665:function(e,t,n){n.r(t),n.d(t,{default:function(){return z}});var r=n(85893),a=n(67294),l=n(74048),o=n(76325),i=n(72107),c=n(19244),d=n(40789),p=n(79533),u=n(59315),s=n(22363),h=n(31955),m=n(11163),f=n(67421),C=n(82729),x=n(94589);function _templateObject(){let e=(0,C._)(["\n      background: ",";\n      border-radius: 6px;\n    "]);return _templateObject=function(){return e},e}function _templateObject1(){let e=(0,C._)(["\n      padding: 8px 12px;\n    "]);return _templateObject1=function(){return e},e}function _templateObject2(){let e=(0,C._)(["\n  padding: 0 !important;\n  &:hover {\n    background: ",";\n  }\n  a {\n    height: 100%;\n    border-radius: 4px;\n    padding: 5px 12px;\n    color: ",";\n    box-sizing: border-box;\n    svg {\n      margin-right: 8px;\n    }\n  }\n  ","\n\n  ","\n"]);return _templateObject2=function(){return e},e}let _=(0,x.ZP)(d.Z).withConfig({componentId:"sc-a88ad761-0"})(_templateObject2(),e=>e.theme.antd.colorBgTextHover,e=>e.theme.antd.colorText,e=>{let{isActive:t,theme:n}=e;return t&&(0,x.iv)(_templateObject(),n.antd.controlItemBgActive)},e=>e.theme.screen.isMobile&&(0,x.iv)(_templateObject1()));var headerWidget_IconTravelingMap=()=>(0,r.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"none",children:[(0,r.jsx)("path",{fill:"#000",fillRule:"evenodd",d:"M4.419 1.38a.667.667 0 0 1 .495 0L8 2.616l3.086-1.234a.667.667 0 0 1 .495 0l3.333 1.333c.253.101.42.346.42.619V14a.667.667 0 0 1-.915.619l-3.086-1.235-3.086 1.235a.667.667 0 0 1-.495 0l-3.085-1.235L1.58 14.62a.667.667 0 0 1-.914-.62V3.334c0-.273.165-.518.419-.619l3.333-1.333Zm-2.42 2.404v9.231l2.42-.968a.666.666 0 0 1 .495 0L8 13.282l3.086-1.235a.666.666 0 0 1 .495 0l2.419.968v-9.23l-2.667-1.067-3.086 1.234a.667.667 0 0 1-.495 0L4.667 2.718 2 3.784Z",clipRule:"evenodd"}),(0,r.jsx)("path",{fill:"#000",fillRule:"evenodd",d:"M4 12.667V2h1.333v10.667H4ZM10.666 12.666V2.333H12v10.333h-1.334ZM7.333 13.666V3.333h1.333v10.333H7.333Z",clipRule:"evenodd"})]}),j=n(60134);let DepartureListItem=e=>{let{locationDetail:t,selected:n,handleChange:a,style:l}=e;return(0,s.oo)(t)?(0,r.jsx)(o.H,{}):((0,p.Z)("DepartureListItem"),(0,r.jsx)(_,{style:l,isActive:!!n,children:(0,r.jsx)(j.Z,{href:"#",icon:(0,r.jsx)(headerWidget_IconTravelingMap,{}),onClick:()=>a(t),children:t.name})}))};DepartureListItem.whyDidYouRender=!0;var y=n(44409);n(66022);var g=n(68697);let selectedDeparture=e=>e.Departures.SelectedDeparture;(0,g.P1)(e=>e.Departures.DepartureList,selectedDeparture,e=>e);var b=n(77549),D=n(27616),v=n(23732),DepartureCityModal_logic=e=>{let{departureCities:t,refObject:n,selectedDepartureItem:l,searchPhrase:o}=e,i=(0,b.T)(),{t:c}=(0,f.$G)(),d=(0,m.useRouter)(),[p,u]=(0,a.useState)(t),[C,x]=(0,a.useState)(l),_=c("Common.Cancel"),j=c("Common.Apply"),g=c("HeaderWidget.HeaderTopBar.DepartureCityModalTitle");(0,a.useEffect)(()=>{if(o&&(0,s.rt)(o)){let e=t.filter(e=>e.name.toLowerCase().includes(o.toLowerCase()));u(e)}else u([...t])},[o]);let w=null==p?void 0:p.map((e,t)=>(0,r.jsx)(DepartureListItem,{locationDetail:e,selected:(null==C?void 0:C.id)===e.id,handleChange:e=>x(e),style:{gridColumnStart:(0,v.Q)(p.length,3,t+1)}},e.id));return{departuresListItems:w,onModalOk:()=>{h.Z.set("Departure",C.id,{path:"/"}),i((0,y.bF)(C)),n.current.setShowModalStatus(!1),i((0,D.K4)(!0)),d.reload()},onModalCancel:()=>{n.current.setShowModalStatus(!1)},localizedModalTitle:g,localizedApply:j,localizedCancel:_,searchPhrase:o}},w=n(99995);function DepartureCityModal_styled_templateObject(){let e=(0,C._)(["\n        display: flex;\n        flex-direction: column;\n      "]);return DepartureCityModal_styled_templateObject=function(){return e},e}function DepartureCityModal_styled_templateObject1(){let e=(0,C._)(["\n      .ant-modal-content {\n        .ant-modal-body {\n          height: calc(100vh - 100px);\n          .content {\n            height: calc(100vh - 240px);\n          }\n        }\n      }\n    "]);return DepartureCityModal_styled_templateObject1=function(){return e},e}function DepartureCityModal_styled_templateObject2(){let e=(0,C._)(["\n  .ant-modal-content {\n    border-radius: 24px;\n\n    .ant-col {\n      border-radius: 4px;\n    }\n  }\n  .departure-city-modal-container {\n    display: grid;\n    grid-template-columns: repeat(3, 1fr);\n    grid-auto-flow: row dense;\n    grid-gap: 8px;\n    ","\n  }\n  ","\n"]);return DepartureCityModal_styled_templateObject2=function(){return e},e}let S=(0,x.ZP)(w.Z).withConfig({componentId:"sc-642bbe86-0"})(DepartureCityModal_styled_templateObject2(),e=>e.theme.screen.isMobile&&(0,x.iv)(DepartureCityModal_styled_templateObject()),e=>e.theme.screen.isMobile&&(0,x.iv)(DepartureCityModal_styled_templateObject1()));function ContentWithHeader_styled_templateObject(){let e=(0,C._)(["\n        overflow-y: auto;\n        height: calc(100vh - 220px);\n      "]);return ContentWithHeader_styled_templateObject=function(){return e},e}function ContentWithHeader_styled_templateObject1(){let e=(0,C._)(["\n  .content {\n    ","\n  }\n\n  .header {\n    padding: 16px 0;\n  }\n"]);return ContentWithHeader_styled_templateObject1=function(){return e},e}let M=(0,x.ZP)(d.Z).withConfig({componentId:"sc-3f0a9dd4-0"})(ContentWithHeader_styled_templateObject1(),e=>e.$fixedHeader&&(0,x.iv)(ContentWithHeader_styled_templateObject()));var ContentWithHeader_ContentWithHeader=e=>{let{id:t,fixedHeader:n=!0,header:a,children:l,style:o}=e;return(0,r.jsxs)(M,{"data-testid":t,$fixedHeader:n,style:o,children:[(0,r.jsx)(d.Z,{className:"header",children:a}),(0,r.jsx)(d.Z,{className:"content",children:l})]})},Z=n(86190),O=n(77089);function SearchInput_styled_templateObject(){let e=(0,C._)([""]);return SearchInput_styled_templateObject=function(){return e},e}let I=(0,x.ZP)(O.Z).withConfig({componentId:"sc-5e706656-0"})(SearchInput_styled_templateObject());var SearchInput_SearchInput=e=>{let{id:t,onSearch:n,allowClear:a,autoFocus:l}=e;return(0,r.jsx)(I,{"data-testid":t,onChange:e=>n(e.target.value),allowClear:a,prefixElement:(0,r.jsx)(Z.W,{}),autoFocus:l})};function DepartureSearchSelect_styled_templateObject(){let e=(0,C._)(["\n  .ant-select {\n    width: 100%;\n  }\n\n  .items-container {\n    display: flex;\n    flex-direction: column;\n    gap: 8px;\n  }\n"]);return DepartureSearchSelect_styled_templateObject=function(){return e},e}let P=(0,x.ZP)(d.Z).withConfig({componentId:"sc-1206efa4-0"})(DepartureSearchSelect_styled_templateObject());var DepartureSearchSelect_DepartureSearchSelect=e=>{let{id:t,departureCities:n,selectedDepartureItem:l,refObject:o}=e,[i,c]=(0,a.useState)(""),{departuresListItems:p}=DepartureCityModal_logic({departureCities:n,refObject:o,selectedDepartureItem:l,searchPhrase:i});return(0,r.jsx)(P,{"data-testid":t,children:(0,r.jsx)(ContentWithHeader_ContentWithHeader,{header:(0,r.jsx)(SearchInput_SearchInput,{onSearch:e=>c(e),autoFocus:!0}),fixedHeader:!0,children:(0,r.jsx)(d.Z,{className:"items-container",children:p})})})};let DepartureCityModal=e=>{let{departureCities:t,refObject:n,selectedDepartureItem:a}=e,{isMobile:h}=(0,u.Z)();if((0,s.S0)(t))return(0,r.jsx)(o.H,{});(0,p.Z)("DepartureCityModal");let{departuresListItems:m,onModalOk:f,onModalCancel:C,localizedModalTitle:x,localizedApply:_,localizedCancel:j}=DepartureCityModal_logic({departureCities:t,refObject:n,selectedDepartureItem:a}),y=(0,r.jsxs)(l.default,{children:[(0,r.jsx)(c.Z,{onClick:()=>C(),size:"large",name:"cancelModal",children:j}),(0,r.jsx)(c.Z,{onClick:()=>f(),size:"large",type:"primary",name:"applyModal",children:_})]});return(0,r.jsx)(S,{showXButton:h,showOk:!1,width:776,showCancel:!0,onOk:()=>f(),onCancel:()=>C(),customHeader:x,customFooter:y,refObject:n,children:(0,r.jsx)(i.Z,{children:h?(0,r.jsx)(DepartureSearchSelect_DepartureSearchSelect,{departureCities:t,refObject:n,selectedDepartureItem:a}):(0,r.jsx)(d.Z,{className:"departure-city-modal-container",children:m})})})};DepartureCityModal.whyDidYouRender=!0;var L=n(94222);let MapIcon=()=>(0,r.jsx)("span",{role:"img",className:"anticon",children:(0,r.jsxs)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,r.jsx)("path",{d:"M2 5L7 3L12 5L17 3L22 5V21L17 19L12 21L7 19L2 21V5Z",stroke:"#535353",strokeLinejoin:"round"}),(0,r.jsx)("path",{d:"M7 3V19",stroke:"#535353"}),(0,r.jsx)("path",{d:"M17 3.5V19",stroke:"#535353"}),(0,r.jsx)("path",{d:"M12 5V20.5",stroke:"#535353"})]})});var H=n(88142),k=n(29395),N=n(13746),W=n(17480),R=n(55577),DepartureCityPopup_logic=e=>{let{openModal:t,setIsPopupOpen:n,setOnCloseTouched:r}=e,{t:a}=(0,f.$G)(),l=a("Common.Yes"),o=a("Common.No"),i=a("HeaderWidget.HeaderTopBar.YourDepartureCity"),setLocalStorage=()=>{localStorage.setItem("DepartureCityModal",(0,R.D)())},closePopup=()=>{n(!1)};return{onNoClick:()=>{closePopup(),setLocalStorage(),t&&t()},onYesClick:()=>{closePopup()},onCloseClick:()=>{r(!0),closePopup()},localizedYes:l,localizedNo:o,localizedYourDepartureCity:i}};function DepartureCityPopup_styled_templateObject(){let e=(0,C._)(["\n  position: absolute;\n  top: calc(100% + 20px);\n  left: 0;\n  right: 0;\n  margin: 0 auto;\n  background: ",";\n  border-radius: 24px;\n  transform: translateX(-128px);\n  width: 256px;\n  z-index: 100;\n  box-shadow: ",";\n  .departureCityPopupHeader {\n    padding: 22px 24px;\n    font-size: ","px;\n    line-height: 22px;\n    color: ",";\n  }\n  .departureCityPopupFooter {\n    border-top: 1px solid ",";\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    padding: ","px;\n    gap: 8px;\n  }\n  .popupClose {\n    width: 48px;\n    height: 48px;\n    border-radius: 50%;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    background: ",";\n    box-shadow: ",";\n    position: absolute;\n    right: -24px;\n    top: -24px;\n    cursor: pointer;\n  }\n"]);return DepartureCityPopup_styled_templateObject=function(){return e},e}let T=(0,x.ZP)(d.Z).withConfig({componentId:"sc-b8c87c5c-0"})(DepartureCityPopup_styled_templateObject(),e=>e.theme.antd.colorBgElevated,e=>e.theme.antd.boxShadow,e=>e.theme.antd.fontSize,e=>e.theme.antd.colorText,e=>e.theme.antd.colorBorderSecondary,e=>e.theme.antd.paddingContentHorizontalSM,e=>e.theme.antd.colorBgElevated,e=>e.theme.antd.boxShadow),DepartureCityPopup_DepartureCityPopup=e=>{let{openModal:t,setIsPopupOpen:n,setOnCloseTouched:a,selectedDepartureName:l}=e,{onNoClick:o,onCloseClick:i,onYesClick:u,localizedYes:s,localizedNo:h,localizedYourDepartureCity:m}=DepartureCityPopup_logic({openModal:t,setIsPopupOpen:n,setOnCloseTouched:a});return(0,p.Z)("DepartureCityPopup"),(0,r.jsxs)(T,{children:[(0,r.jsxs)(d.Z,{className:"departureCityPopupHeader",children:[m," ",l," ?"]}),(0,r.jsxs)(d.Z,{className:"departureCityPopupFooter",children:[(0,r.jsx)(c.Z,{name:"popupNo",type:"default",onClick:o,children:h}),(0,r.jsx)(c.Z,{name:"popupYes",type:"primary",onClick:u,children:s})]}),(0,r.jsx)(d.Z,{className:"popupClose",onClick:i,children:(0,r.jsx)(W.Z,{icon:N.Z})})]})};DepartureCityPopup_DepartureCityPopup.whyDidYouRender=!0;var B=n(81770),E=n(18720),V=n(75254),DepartureCitySelectModal_logic=e=>{var t;let{departures:n,configurations:r}=e,l=(0,b.C)(selectedDeparture),o=(0,a.useRef)(null),i=(0,E.Z)("HeaderWidget.DepartureCitySelectPopupDuration",r),[c,d]=(0,a.useState)(!1),[p,u]=(0,a.useState)(!1),h=null!==(t=n.map(e=>({id:e.id,name:e.name,type:B.f.place,isDefault:e.isCurrent})))&&void 0!==t?t:[],m=h.find(e=>e.isDefault);return(0,V.Z)(()=>{0!==i&&(c||p||localStorage.setItem("DepartureCityModal",(0,R.D)()))},[p,c]),(0,a.useEffect)(()=>{if(0===i)return;let e=localStorage.getItem("DepartureCityModal");(0,s.aH)(e)&&setTimeout(()=>{d(!0)},1e3),setTimeout(()=>{d(!1)},1e3*i)},[]),{openModal:()=>{o.current.setShowModalStatus(!0)},selectedDepartureItem:null!=l?l:m,departureCities:h,refObject:o,isPopupOpen:c,setIsPopupOpen:d,setOnCloseTouched:u,departureCitySelectPopupDuration:i}};function DepartureCitySelectModal_styled_templateObject(){let e=(0,C._)(["\n  position: relative;\n"]);return DepartureCitySelectModal_styled_templateObject=function(){return e},e}let Y=(0,x.ZP)(d.Z).withConfig({componentId:"sc-bff35352-0"})(DepartureCitySelectModal_styled_templateObject()),DepartureCitySelectModal=e=>{let{departures:t,className:n,configurations:a}=e;if((0,s.S0)(t))return(0,r.jsx)(o.H,{});(0,p.Z)("DepartureCitySelectModal");let{openModal:l,selectedDepartureItem:i,departureCities:c,refObject:d,isPopupOpen:u,setIsPopupOpen:h,setOnCloseTouched:m,departureCitySelectPopupDuration:f}=DepartureCitySelectModal_logic({departures:t,configurations:a});return(0,r.jsxs)(Y,{children:[(0,r.jsx)(j.Z,{href:"#",icon:(0,r.jsx)(MapIcon,{}),iconPosition:"left",onClick:()=>l(),className:n,children:(0,r.jsxs)(H.Z,{children:[(0,r.jsx)(k.Z,{className:"name",children:null==i?void 0:i.name}),(0,r.jsx)(L.G,{})]})}),(0,r.jsx)(DepartureCityModal,{refObject:d,departureCities:c,selectedDepartureItem:i}),f>0&&u&&(0,r.jsx)(DepartureCityPopup_DepartureCityPopup,{openModal:l,setIsPopupOpen:h,selectedDepartureName:null==i?void 0:i.name,setOnCloseTouched:m})]})};DepartureCitySelectModal.whyDidYouRender=!0;var z=DepartureCitySelectModal},86190:function(e,t,n){n.d(t,{W:function(){return SearchIcon}});var r=n(85893);let SearchIcon=()=>(0,r.jsx)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,r.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M14.9056 16.3199C13.551 17.3729 11.8487 18 10 18C5.58172 18 2 14.4183 2 10C2 5.58172 5.58172 2 10 2C14.4183 2 18 5.58172 18 10C18 11.8487 17.3729 13.551 16.3199 14.9056L21.7071 20.2929C22.0976 20.6834 22.0976 21.3166 21.7071 21.7071C21.3166 22.0976 20.6834 22.0976 20.2929 21.7071L14.9056 16.3199ZM16 10C16 13.3137 13.3137 16 10 16C6.68629 16 4 13.3137 4 10C4 6.68629 6.68629 4 10 4C13.3137 4 16 6.68629 16 10Z",fill:"#777E91"})})},94222:function(e,t,n){n.d(t,{G:function(){return ChevronDownICon}});var r=n(85893);n(67294);let ChevronDownICon=()=>(0,r.jsx)("span",{role:"img",className:"anticon",children:(0,r.jsx)("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,r.jsx)("path",{d:"M3 6L8 11L13 6",stroke:"#535353",strokeLinejoin:"round"})})})},13746:function(e,t,n){var r=n(85893);t.Z=()=>(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:12,height:12,fill:"none",children:(0,r.jsx)("path",{fill:"#535353",fillRule:"evenodd",d:"M.227.227a.75.75 0 0 1 1.06 0L6 4.939 10.712.227a.75.75 0 0 1 1.061 1.06L7.061 6l4.712 4.712a.75.75 0 0 1-1.06 1.061L6 7.061l-4.712 4.712a.75.75 0 1 1-1.061-1.06L4.939 6 .227 1.288a.75.75 0 0 1 0-1.061Z",clipRule:"evenodd"})})},88142:function(e,t,n){n.d(t,{Z:function(){return NameIconContainer_NameIconContainer}});var r=n(85893),a=n(82729),l=n(94589),o=n(40789);function _templateObject(){let e=(0,a._)(["\n      flex: 1;\n      justify-content: space-between;\n    "]);return _templateObject=function(){return e},e}function _templateObject1(){let e=(0,a._)(["\n  gap: ","px;\n  display: flex;\n  align-items: center;\n\n  span {\n    margin-right: 0 !important;\n  }\n\n  ","\n"]);return _templateObject1=function(){return e},e}let i=(0,l.ZP)(o.Z).withConfig({componentId:"sc-ae340dfe-0"})(_templateObject1(),e=>e.theme.antd.paddingXXS,e=>e.theme.screen.isMobile&&(0,l.iv)(_templateObject()));var NameIconContainer_NameIconContainer=e=>(0,r.jsx)(i,{"data-testid":e.id,children:e.children})},75254:function(e,t,n){var r=n(67294);t.Z=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=(0,r.useRef)(),l=n?r.useLayoutEffect:r.useEffect;l(()=>{if(a.current){if(t.length!==a.current.length)e(a.current);else for(let n=0;n<t.length;n+=1)if(!Object.is(t[n],a.current[n])){e(a.current);break}}a.current=t})}}}]);