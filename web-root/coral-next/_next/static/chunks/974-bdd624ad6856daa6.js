"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{40974:function(e,n,t){t.r(n),t.d(n,{Panel:function(){return E},default:function(){return h}});var o=t(87462),a=t(97685),r=t(2788),l=t(67294),c=l.createContext({}),s=t(1413),i=t(93967),u=t.n(i),d=t(94999),f=t(7028),m=t(15105),v=t(64217);function getMotionName(e,n,t){var o=n;return!o&&t&&(o="".concat(e,"-").concat(t)),o}function getScroll(e,n){var t=e["page".concat(n?"Y":"X","Offset")],o="scroll".concat(n?"Top":"Left");if("number"!=typeof t){var a=e.document;"number"!=typeof(t=a.documentElement[o])&&(t=a.body[o])}return t}var p=t(29372),y=t(71002),C=t(42550),N=l.memo(function(e){return e.children},function(e,n){return!n.shouldUpdate}),b={width:0,height:0,overflow:"hidden",outline:"none"},Z={outline:"none"},E=l.forwardRef(function(e,n){var t,a,r,i=e.prefixCls,d=e.className,f=e.style,m=e.title,p=e.ariaId,E=e.footer,g=e.closable,h=e.closeIcon,k=e.onClose,w=e.children,x=e.bodyStyle,R=e.bodyProps,I=e.modalRender,P=e.onMouseDown,M=e.onMouseUp,D=e.holderRef,S=e.visible,O=e.forceRender,T=e.width,A=e.height,U=e.classNames,V=e.styles,W=l.useContext(c).panel,_=(0,C.x1)(D,W),z=(0,l.useRef)(),L=(0,l.useRef)(),B=(0,l.useRef)();l.useImperativeHandle(n,function(){return{focus:function(){var e;null===(e=B.current)||void 0===e||e.focus()},changeActive:function(e){var n=document.activeElement;e&&n===L.current?z.current.focus():e||n!==z.current||L.current.focus()}}});var K={};void 0!==T&&(K.width=T),void 0!==A&&(K.height=A),E&&(t=l.createElement("div",{className:u()("".concat(i,"-footer"),null==U?void 0:U.footer),style:(0,s.Z)({},null==V?void 0:V.footer)},E)),m&&(a=l.createElement("div",{className:u()("".concat(i,"-header"),null==U?void 0:U.header),style:(0,s.Z)({},null==V?void 0:V.header)},l.createElement("div",{className:"".concat(i,"-title"),id:p},m)));var j=(0,l.useMemo)(function(){return"object"===(0,y.Z)(g)&&null!==g?g:g?{closeIcon:null!=h?h:l.createElement("span",{className:"".concat(i,"-close-x")})}:{}},[g,h]),H=(0,v.Z)(j,!0);g&&(r=l.createElement("button",(0,o.Z)({type:"button",onClick:k,"aria-label":"Close"},H,{className:"".concat(i,"-close")}),j.closeIcon));var X=l.createElement("div",{className:u()("".concat(i,"-content"),null==U?void 0:U.content),style:null==V?void 0:V.content},r,a,l.createElement("div",(0,o.Z)({className:u()("".concat(i,"-body"),null==U?void 0:U.body),style:(0,s.Z)((0,s.Z)({},x),null==V?void 0:V.body)},R),w),t);return l.createElement("div",{key:"dialog-element",role:"dialog","aria-labelledby":m?p:null,"aria-modal":"true",ref:_,style:(0,s.Z)((0,s.Z)({},f),K),className:u()(i,d),onMouseDown:P,onMouseUp:M},l.createElement("div",{tabIndex:0,ref:z,style:b,"aria-hidden":"true"}),l.createElement("div",{ref:B,tabIndex:-1,style:Z},l.createElement(N,{shouldUpdate:S||O},I?I(X):X)),l.createElement("div",{tabIndex:0,ref:L,style:b,"aria-hidden":"true"}))}),g=l.forwardRef(function(e,n){var t=e.prefixCls,r=e.title,c=e.style,i=e.className,d=e.visible,f=e.forceRender,m=e.destroyOnClose,v=e.motionName,y=e.ariaId,C=e.onVisibleChanged,N=e.mousePosition,b=(0,l.useRef)(),Z=l.useState(),g=(0,a.Z)(Z,2),h=g[0],k=g[1],w={};function onPrepare(){var e,n,t,o,a,r=(t={left:(n=(e=b.current).getBoundingClientRect()).left,top:n.top},a=(o=e.ownerDocument).defaultView||o.parentWindow,t.left+=getScroll(a),t.top+=getScroll(a,!0),t);k(N?"".concat(N.x-r.left,"px ").concat(N.y-r.top,"px"):"")}return h&&(w.transformOrigin=h),l.createElement(p.default,{visible:d,onVisibleChanged:C,onAppearPrepare:onPrepare,onEnterPrepare:onPrepare,forceRender:f,motionName:v,removeOnLeave:m,ref:b},function(a,d){var f=a.className,m=a.style;return l.createElement(E,(0,o.Z)({},e,{ref:n,title:r,ariaId:y,prefixCls:t,holderRef:d,style:(0,s.Z)((0,s.Z)((0,s.Z)({},m),c),w),className:u()(i,f)}))})});function Mask(e){var n=e.prefixCls,t=e.style,a=e.visible,r=e.maskProps,c=e.motionName,i=e.className;return l.createElement(p.default,{key:"mask",visible:a,motionName:c,leavedClassName:"".concat(n,"-mask-hidden")},function(e,a){var c=e.className,d=e.style;return l.createElement("div",(0,o.Z)({ref:a,style:(0,s.Z)((0,s.Z)({},d),t),className:u()("".concat(n,"-mask"),c,i)},r))})}function Dialog(e){var n=e.prefixCls,t=void 0===n?"rc-dialog":n,r=e.zIndex,c=e.visible,i=void 0!==c&&c,p=e.keyboard,y=void 0===p||p,C=e.focusTriggerAfterClose,N=void 0===C||C,b=e.wrapStyle,Z=e.wrapClassName,E=e.wrapProps,h=e.onClose,k=e.afterOpenChange,w=e.afterClose,x=e.transitionName,R=e.animation,I=e.closable,P=e.mask,M=void 0===P||P,D=e.maskTransitionName,S=e.maskAnimation,O=e.maskClosable,T=e.maskStyle,A=e.maskProps,U=e.rootClassName,V=e.classNames,W=e.styles,_=(0,l.useRef)(),z=(0,l.useRef)(),L=(0,l.useRef)(),B=l.useState(i),K=(0,a.Z)(B,2),j=K[0],H=K[1],X=(0,f.Z)();function onInternalClose(e){null==h||h(e)}var Y=(0,l.useRef)(!1),q=(0,l.useRef)(),F=null;return(void 0===O||O)&&(F=function(e){Y.current?Y.current=!1:z.current===e.target&&onInternalClose(e)}),(0,l.useEffect)(function(){i&&(H(!0),(0,d.Z)(z.current,document.activeElement)||(_.current=document.activeElement))},[i]),(0,l.useEffect)(function(){return function(){clearTimeout(q.current)}},[]),l.createElement("div",(0,o.Z)({className:u()("".concat(t,"-root"),U)},(0,v.Z)(e,{data:!0})),l.createElement(Mask,{prefixCls:t,visible:M&&i,motionName:getMotionName(t,D,S),style:(0,s.Z)((0,s.Z)({zIndex:r},T),null==W?void 0:W.mask),maskProps:A,className:null==V?void 0:V.mask}),l.createElement("div",(0,o.Z)({tabIndex:-1,onKeyDown:function(e){if(y&&e.keyCode===m.Z.ESC){e.stopPropagation(),onInternalClose(e);return}i&&e.keyCode===m.Z.TAB&&L.current.changeActive(!e.shiftKey)},className:u()("".concat(t,"-wrap"),Z,null==V?void 0:V.wrapper),ref:z,onClick:F,style:(0,s.Z)((0,s.Z)((0,s.Z)({zIndex:r},b),null==W?void 0:W.wrapper),{},{display:j?null:"none"})},E),l.createElement(g,(0,o.Z)({},e,{onMouseDown:function(){clearTimeout(q.current),Y.current=!0},onMouseUp:function(){q.current=setTimeout(function(){Y.current=!1})},ref:L,closable:void 0===I||I,ariaId:X,prefixCls:t,visible:i&&j,onClose:onInternalClose,onVisibleChanged:function(e){if(e)!function(){if(!(0,d.Z)(z.current,document.activeElement)){var e;null===(e=L.current)||void 0===e||e.focus()}}();else{if(H(!1),M&&_.current&&N){try{_.current.focus({preventScroll:!0})}catch(e){}_.current=null}j&&(null==w||w())}null==k||k(e)},motionName:getMotionName(t,x,R)}))))}g.displayName="Content",t(80334);var DialogWrap=function(e){var n=e.visible,t=e.getContainer,s=e.forceRender,i=e.destroyOnClose,u=void 0!==i&&i,d=e.afterClose,f=e.panelRef,m=l.useState(n),v=(0,a.Z)(m,2),p=v[0],y=v[1],C=l.useMemo(function(){return{panel:f}},[f]);return(l.useEffect(function(){n&&y(!0)},[n]),s||!u||p)?l.createElement(c.Provider,{value:C},l.createElement(r.Z,{open:n||s||p,autoDestroy:!1,getContainer:t,autoLock:n||p},l.createElement(Dialog,(0,o.Z)({},e,{destroyOnClose:u,afterClose:function(){null==d||d(),y(!1)}})))):null};DialogWrap.displayName="Dialog";var h=DialogWrap}}]);