"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2999],{42999:function(e,n,t){t.r(n),t.d(n,{Notice:function(){return y},NotificationProvider:function(){return es_NotificationProvider},useNotification:function(){return useNotification}});var o=t(74902),c=t(97685),r=t(91),i=t(67294),l=t(1413),s=t(73935),a=t(87462),u=t(4942),f=t(93967),d=t.n(f),v=t(29372),m=t(15105),y=i.forwardRef(function(e,n){var t=e.prefixCls,o=e.style,r=e.className,l=e.duration,s=void 0===l?4.5:l,f=e.eventKey,v=e.content,y=e.closable,p=e.closeIcon,h=void 0===p?"x":p,k=e.props,N=e.onClick,C=e.onNoticeClose,g=e.times,E=e.hovering,Z=i.useState(!1),x=(0,c.Z)(Z,2),R=x[0],b=x[1],S=E||R,onInternalClose=function(){C(f)};i.useEffect(function(){if(!S&&s>0){var e=setTimeout(function(){onInternalClose()},1e3*s);return function(){clearTimeout(e)}}},[s,S,g]);var A="".concat(t,"-notice");return i.createElement("div",(0,a.Z)({},k,{ref:n,className:d()(A,r,(0,u.Z)({},"".concat(A,"-closable"),y)),style:o,onMouseEnter:function(e){var n;b(!0),null==k||null===(n=k.onMouseEnter)||void 0===n||n.call(k,e)},onMouseLeave:function(e){var n;b(!1),null==k||null===(n=k.onMouseLeave)||void 0===n||n.call(k,e)},onClick:N}),i.createElement("div",{className:"".concat(A,"-content")},v),y&&i.createElement("a",{tabIndex:0,className:"".concat(A,"-close"),onKeyDown:function(e){("Enter"===e.key||"Enter"===e.code||e.keyCode===m.Z.ENTER)&&onInternalClose()},onClick:function(e){e.preventDefault(),e.stopPropagation(),onInternalClose()}},h))}),p=i.createContext({}),es_NotificationProvider=function(e){var n=e.children,t=e.classNames;return i.createElement(p.Provider,{value:{classNames:t}},n)},h=t(71002),hooks_useStack=function(e){var n,t,o,c={offset:8,threshold:3,gap:16};return e&&"object"===(0,h.Z)(e)&&(c.offset=null!==(n=e.offset)&&void 0!==n?n:8,c.threshold=null!==(t=e.threshold)&&void 0!==t?t:3,c.gap=null!==(o=e.gap)&&void 0!==o?o:16),[!!e,c]},k=["className","style","classNames","styles"],es_NoticeList=function(e){var n,t=e.configList,s=e.placement,f=e.prefixCls,m=e.className,h=e.style,N=e.motion,C=e.onAllNoticeRemoved,g=e.onNoticeClose,E=e.stack,Z=(0,i.useContext)(p).classNames,x=(0,i.useRef)({}),R=(0,i.useState)(null),b=(0,c.Z)(R,2),S=b[0],A=b[1],_=(0,i.useState)([]),w=(0,c.Z)(_,2),I=w[0],L=w[1],M=t.map(function(e){return{config:e,key:String(e.key)}}),P=hooks_useStack(E),j=(0,c.Z)(P,2),W=j[0],H=j[1],O=H.offset,K=H.threshold,T=H.gap,D=W&&(I.length>0||M.length<=K),G="function"==typeof N?N(s):N;return(0,i.useEffect)(function(){W&&I.length>1&&L(function(e){return e.filter(function(e){return M.some(function(n){return e===n.key})})})},[I,M,W]),(0,i.useEffect)(function(){var e,n;W&&x.current[null===(e=M[M.length-1])||void 0===e?void 0:e.key]&&A(x.current[null===(n=M[M.length-1])||void 0===n?void 0:n.key])},[M,W]),i.createElement(v.CSSMotionList,(0,a.Z)({key:s,className:d()(f,"".concat(f,"-").concat(s),null==Z?void 0:Z.list,m,(n={},(0,u.Z)(n,"".concat(f,"-stack"),!!W),(0,u.Z)(n,"".concat(f,"-stack-expanded"),D),n)),style:h,keys:M,motionAppear:!0},G,{onAllRemoved:function(){C(s)}}),function(e,n){var t=e.config,c=e.className,u=e.style,v=e.index,m=t.key,p=t.times,h=String(m),N=t.className,C=t.style,E=t.classNames,R=t.styles,b=(0,r.Z)(t,k),A=M.findIndex(function(e){return e.key===h}),_={};if(W){var w=M.length-1-(A>-1?A:v-1),P="top"===s||"bottom"===s?"-50%":"0";if(w>0){_.height=D?null===(j=x.current[h])||void 0===j?void 0:j.offsetHeight:null==S?void 0:S.offsetHeight;for(var j,H,K,G,F=0,X=0;X<w;X++)F+=(null===(G=x.current[M[M.length-1-X].key])||void 0===G?void 0:G.offsetHeight)+T;var q=(D?F:w*O)*(s.startsWith("top")?1:-1),z=!D&&null!=S&&S.offsetWidth&&null!==(H=x.current[h])&&void 0!==H&&H.offsetWidth?((null==S?void 0:S.offsetWidth)-2*O*(w<3?w:3))/(null===(K=x.current[h])||void 0===K?void 0:K.offsetWidth):1;_.transform="translate3d(".concat(P,", ").concat(q,"px, 0) scaleX(").concat(z,")")}else _.transform="translate3d(".concat(P,", 0, 0)")}return i.createElement("div",{ref:n,className:d()("".concat(f,"-notice-wrapper"),c,null==E?void 0:E.wrapper),style:(0,l.Z)((0,l.Z)((0,l.Z)({},u),_),null==R?void 0:R.wrapper),onMouseEnter:function(){return L(function(e){return e.includes(h)?e:[].concat((0,o.Z)(e),[h])})},onMouseLeave:function(){return L(function(e){return e.filter(function(e){return e!==h})})}},i.createElement(y,(0,a.Z)({},b,{ref:function(e){A>-1?x.current[h]=e:delete x.current[h]},prefixCls:f,classNames:E,styles:R,className:d()(N,null==Z?void 0:Z.notice),style:C,times:p,key:m,eventKey:m,onNoticeClose:g,hovering:W&&I.length>0})))})},N=i.forwardRef(function(e,n){var t=e.prefixCls,r=void 0===t?"rc-notification":t,a=e.container,u=e.motion,f=e.maxCount,d=e.className,v=e.style,m=e.onAllRemoved,y=e.stack,p=e.renderNotifications,h=i.useState([]),k=(0,c.Z)(h,2),N=k[0],C=k[1],onNoticeClose=function(e){var n,t=N.find(function(n){return n.key===e});null==t||null===(n=t.onClose)||void 0===n||n.call(t),C(function(n){return n.filter(function(n){return n.key!==e})})};i.useImperativeHandle(n,function(){return{open:function(e){C(function(n){var t,c=(0,o.Z)(n),r=c.findIndex(function(n){return n.key===e.key}),i=(0,l.Z)({},e);return r>=0?(i.times=((null===(t=n[r])||void 0===t?void 0:t.times)||0)+1,c[r]=i):(i.times=0,c.push(i)),f>0&&c.length>f&&(c=c.slice(-f)),c})},close:function(e){onNoticeClose(e)},destroy:function(){C([])}}});var g=i.useState({}),E=(0,c.Z)(g,2),Z=E[0],x=E[1];i.useEffect(function(){var e={};N.forEach(function(n){var t=n.placement,o=void 0===t?"topRight":t;o&&(e[o]=e[o]||[],e[o].push(n))}),Object.keys(Z).forEach(function(n){e[n]=e[n]||[]}),x(e)},[N]);var onAllNoticeRemoved=function(e){x(function(n){var t=(0,l.Z)({},n);return(t[e]||[]).length||delete t[e],t})},R=i.useRef(!1);if(i.useEffect(function(){Object.keys(Z).length>0?R.current=!0:R.current&&(null==m||m(),R.current=!1)},[Z]),!a)return null;var b=Object.keys(Z);return(0,s.createPortal)(i.createElement(i.Fragment,null,b.map(function(e){var n=Z[e],t=i.createElement(es_NoticeList,{key:e,configList:n,placement:e,prefixCls:r,className:null==d?void 0:d(e),style:null==v?void 0:v(e),motion:u,onNoticeClose:onNoticeClose,onAllNoticeRemoved:onAllNoticeRemoved,stack:y});return p?p(t,{prefixCls:r,key:e}):t})),a)}),C=["getContainer","motion","prefixCls","maxCount","className","style","onAllRemoved","stack","renderNotifications"],defaultGetContainer=function(){return document.body},g=0;function useNotification(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.getContainer,t=void 0===n?defaultGetContainer:n,l=e.motion,s=e.prefixCls,a=e.maxCount,u=e.className,f=e.style,d=e.onAllRemoved,v=e.stack,m=e.renderNotifications,y=(0,r.Z)(e,C),p=i.useState(),h=(0,c.Z)(p,2),k=h[0],E=h[1],Z=i.useRef(),x=i.createElement(N,{container:k,ref:Z,prefixCls:s,motion:l,maxCount:a,className:u,style:f,onAllRemoved:d,stack:v,renderNotifications:m}),R=i.useState([]),b=(0,c.Z)(R,2),S=b[0],A=b[1],_=i.useMemo(function(){return{open:function(e){var n=function(){for(var e={},n=arguments.length,t=Array(n),o=0;o<n;o++)t[o]=arguments[o];return t.forEach(function(n){n&&Object.keys(n).forEach(function(t){var o=n[t];void 0!==o&&(e[t]=o)})}),e}(y,e);(null===n.key||void 0===n.key)&&(n.key="rc-notification-".concat(g),g+=1),A(function(e){return[].concat((0,o.Z)(e),[{type:"open",config:n}])})},close:function(e){A(function(n){return[].concat((0,o.Z)(n),[{type:"close",key:e}])})},destroy:function(){A(function(e){return[].concat((0,o.Z)(e),[{type:"destroy"}])})}}},[]);return i.useEffect(function(){E(t())}),i.useEffect(function(){Z.current&&S.length&&(S.forEach(function(e){switch(e.type){case"open":Z.current.open(e.config);break;case"close":Z.current.close(e.key);break;case"destroy":Z.current.destroy()}}),A(function(e){return e.filter(function(e){return!S.includes(e)})}))},[S]),[_,x]}}}]);